<ion-header>

    <div class="banner">
        <div class="banner-title">
            <span>工程财务管理系统</span>
        </div>
    </div>

</ion-header>

<ion-grid class="identity">
    <ion-row>
        <ion-col col-8>
            <div class="info">
                <h1>{{user.userName}}</h1>
                <i>当前职位：{{transformType(user.userType)}}</i>
            </div>
        </ion-col>
        <ion-col>
            <div class="link" (tap)="toPersonal()">个人中心</div>
        </ion-col>
    </ion-row>
</ion-grid>

<ion-content>
    <ul class="func">
        <li (tap)="toAllFnc()">
            <div style="background-image:url('./assets/imgs/all-fnc.png');" class="home-icon">
            </div>
            <span>总账</span>
        </li>
        <li (tap)="toPartialFnc('state=2')">
            <div style="background-image:url('./assets/imgs/passed-fnc.png');" class="home-icon">
            </div>
            <span>审核通过财务</span>
        </li>
        <li *ngIf="type !== 0" (tap)="toPartialFnc('state=1')">
            <div style="background-image:url('./assets/imgs/pending-financial-fnc.png');" class="home-icon">
            </div>
            <span>{{type === 1?'待本人审核财务':'待公司财务审核财务'}}</span>
        </li>
        <li *ngIf="type === 2 || type === 3" (tap)="toPartialFnc('state=0')">
            <div style="background-image:url('./assets/imgs/pending-manager-fnc.png');" class="home-icon">
            </div>
            <span>{{type === 2?'待本人审核财务':'待项目经理审核财务'}}</span>
        </li>
        <li *ngIf="type === 2 || type === 3" (tap)="toPartialFnc('state=10')">
            <div style="background-image:url('./assets/imgs/refused-fnc.png');" class="home-icon">
            </div>
            <span>被驳回财务</span>
        </li>
        <li *ngIf="type === 0 || type === 1" (tap)="toPro()">
            <div style="background-image:url('./assets/imgs/pro.png');" class="home-icon">
            </div>
            <span>项目管理</span>
        </li>
        <li *ngIf="type === 0" (tap)="toAddPro()">
            <div style="background-image:url('./assets/imgs/add-pro.png');" class="home-icon">
            </div>
            <span>创建项目</span>
        </li>
        <li *ngIf="(type === 2 && user.itemId) || (type === 3 && user.itemId)" (tap)="toProDetBasic()">
            <div style="background-image:url('./assets/imgs/my-pro.png');" class="home-icon">
            </div>
            <span>我的项目</span>
        </li>
        <li *ngIf="type === 0" (tap)="toPsnl()">
            <div style="background-image:url('./assets/imgs/psnl.png');" class="home-icon">
            </div>
            <span>人员管理</span>
        </li>
        <li *ngIf="type === 0" (tap)="toAddPsnl()">
            <div style="background-image:url('./assets/imgs/add-psnl.png');" class="home-icon">
            </div>
            <span>创建职员</span>
        </li>
        <li *ngIf="type === 0" (tap)="toMatProvider()">
            <div style="background-image:url('./assets/imgs/provider.png');" class="home-icon">
            </div>
            <span>供货商管理</span>
        </li>
        <li *ngIf="type === 0" (tap)="addProvider()">
            <div style="background-image:url('./assets/imgs/add-provider.png');" class="home-icon">
            </div>
            <span>创建供货商</span>
        </li>
        <li *ngIf="type === 0" (tap)="toMat()">
            <div style="background-image:url('./assets/imgs/mat.png');" class="home-icon">
            </div>
            <span>材料管理</span>
        </li>
        <li *ngIf="type === 0" (tap)="addMat()">
            <div style="background-image:url('./assets/imgs/add-mat.png');" class="home-icon">
            </div>
            <span>创建材料</span>
        </li>
        <li *ngIf="type === 2 || type === 3" (tap)="toUploadMat()">
            <div style="background-image:url('./assets/imgs/upload-mat.png');" class="home-icon">
            </div>
            <span>上传材料开销</span>
        </li>
        <li *ngIf="type === 2 || type === 3" (tap)="toUploadMachine()">
            <div style="background-image:url('./assets/imgs/upload-machine.png');" class="home-icon">
            </div>
            <span>上传机械完工费开销</span>
        </li>
        <li *ngIf="type == 2 || type === 3" (tap)="toUploadLabor()">
            <div style="background-image:url('./assets/imgs/upload-labor.png');" class="home-icon">
            </div>
            <span>上传人工完工费开销</span>
        </li>
        <li *ngIf="type === 2 || type === 3" (tap)="toUploadOther()">
            <div style="background-image:url('./assets/imgs/upload-other.png');" class="home-icon">
            </div>
            <span>上传其他开销</span>
        </li>
    </ul>
</ion-content>